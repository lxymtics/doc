<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="icon" href="https://s3.bmp.ovh/imgs/2021/09/61098deedf35a607.png"><title>MongoDB | 知识文档</title><meta name="description" content="本人学习过程中的知识总结和知识库">
    <link rel="modulepreload" href="/assets/app.7d2ff5c0.js"><link rel="modulepreload" href="/assets/index.html.ef1bd960.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.5a098b48.js"><link rel="modulepreload" href="/assets/index.html.73c63ddb.js">
    <link rel="stylesheet" href="/assets/style.34d3ada5.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="https://s3.bmp.ovh/imgs/2021/09/61098deedf35a607.png" alt="知识文档"><span class="site-name can-hide">知识文档</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="mongodb" tabindex="-1"><a class="header-anchor" href="#mongodb" aria-hidden="true">#</a> MongoDB</h1><p><a href="https://docs.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB Documentation<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h2 id="nosql" tabindex="-1"><a class="header-anchor" href="#nosql" aria-hidden="true">#</a> NoSQL</h2><h3 id="nosql数据库的四大家族" tabindex="-1"><a class="header-anchor" href="#nosql数据库的四大家族" aria-hidden="true">#</a> NoSQL数据库的四大家族</h3><h4 id="键值-key-value-存储" tabindex="-1"><a class="header-anchor" href="#键值-key-value-存储" aria-hidden="true">#</a> 键值(Key-Value)存储</h4><p><strong>特点:</strong> 犍值数据库就像传统语言中使用的哈希表。通过 Key添加、查询或者删除数据。</p><p><strong>优点:</strong> 查询速度快。</p><p><strong>缺点:</strong> 数据无结构化，通常只被当作字符串或者二进制数据存储。</p><p><strong>应用场景:</strong> 内容缓存、用户信息比如会话、配置信息、购物车等，主要用于处理大量数据的高访问负载。</p><p><strong>NoSQL代表:</strong> Redis、Memcached</p><h4 id="文档-document-oriented-存储" tabindex="-1"><a class="header-anchor" href="#文档-document-oriented-存储" aria-hidden="true">#</a> 文档(Document-Oriented)存储</h4><p><strong>特点:</strong> 文档数据库将数据以文档的形式储存，类似JSON，是一系列数据项的集合，每个数据项都有一个名称与对应的值，值既可以是简单的数据类型，如字符串、数字和日期等;也可以是复杂的类型，如有序列表和关联对象。</p><p><strong>优点:</strong> 数据结构要求不严格，表结构可变，不需要像关系型数据库一样需要先定义表结构。</p><p><strong>缺点:</strong> 查询性能不高，缺乏统—的查询语法。</p><p>**应用场景:**日志、 Web应用等。</p><p><strong>NoSQL代表:</strong> MongoDB、CouchDB</p><h4 id="列族-wide-column-store-column-family-存储" tabindex="-1"><a class="header-anchor" href="#列族-wide-column-store-column-family-存储" aria-hidden="true">#</a> 列族(Wide Column Store/Column-Family)存储</h4><p>为大数据准备的</p><p><strong>特点:</strong> 列存储数据库将数据储存在列族(Column Family)中，将多个列聚合成一个列族，键仍然存在，但是它们的特点是指向了多个列。举个例子，如果我们有一个Person类，我们通常会一起查询他们的姓名和年龄而不是薪资。这种情况下，姓名和年龄就会被放入—个列族中，而薪资则在另—个列族中。</p><p><strong>优点:</strong> 列存储查找速度快，可扩展性强，更容易进行分布式扩展，适用于分布式的文件系统，应对分布式存储的海量数据。</p><p><strong>缺点:</strong> 查询性能不高，缺乏统—的查询语法。</p><p><strong>应用场景:</strong> 日志、分布式的文件系统(对象存储)、推荐画像、时空数据、消息/订单等。 <strong>NoSQL代表:</strong> Cassandra、HBase</p><h4 id="图形-graph-oriented-存储" tabindex="-1"><a class="header-anchor" href="#图形-graph-oriented-存储" aria-hidden="true">#</a> 图形(Graph-Oriented)存储</h4><p><strong>特点:</strong> 图形数据库允许我们将数据以图的方式储存。</p><p><strong>优点:</strong> 图形相关算法。比如最短承径寻址，N度关系查找等。</p><p><strong>缺点:</strong> 很多时候需要对整个图做计算才能得出需要的信息，分布式的集群方案不好做，处理超级节点乏力，没有分片存储机制，国内社区不活跃。</p><p><strong>应用场景:</strong> 社交网络，推荐系统等。专注于构建关系图谱。</p><p><strong>NoSQL代表:</strong> Neo4j、 Infinite Graph...</p><h3 id="nosql的优缺点" tabindex="-1"><a class="header-anchor" href="#nosql的优缺点" aria-hidden="true">#</a> NoSQL的优缺点</h3><p><strong>优点</strong></p><ul><li>高可扩展性</li><li>没有标准化</li><li>分布式计算</li><li>有限的查询功能</li><li>低成本</li></ul><p><strong>缺点</strong></p><ul><li>最终一致不是直观的程序</li><li>架构的灵活性, 半结构化数据</li><li>没有复杂的关系</li></ul><p><strong>总结</strong></p><p>NoSQL数据库在以下几种情况比较适用:</p><ul><li>数据模型比较简单</li><li>需要灵活性更强的IT系统</li><li>对数据库性能要求较高</li><li>不需要高度的数据一致性</li><li>对于给定的Key, 比较容易映射复杂的环境</li></ul><h2 id="mongodb-1" tabindex="-1"><a class="header-anchor" href="#mongodb-1" aria-hidden="true">#</a> MongoDB</h2><p><strong>MongoDB</strong>是一个开源、高性能、无模式的文档型数据库，当初的设计就是用于简化开发和方便扩展，是NoSQL数据库产品中的一种。是<strong>最像关系型数据库（MySQL）的非关系型数据库</strong>。</p><p>它支持的数据结构非常松散，是一种类似于 JSON 的 格式叫<strong>BSON</strong>，所以它既可以存储比较复杂的数据类型，又相当的灵活。</p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><blockquote><p>安装相关文档：</p><ul><li><a href="https://docs.mongodb.com/manual/installation/" target="_blank" rel="noopener noreferrer">Install MongoDB — MongoDB Manual<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database#install-mongodb" target="_blank" rel="noopener noreferrer">使用 WSL 添加或连接数据库 MongoDB | Microsoft Docs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noopener noreferrer">MongoDB Community Download | MongoDB<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul></blockquote><p><code>Ubuntu</code>：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> mongodb
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>创建用于存放数据和日志的文件夹，并修改其权限增加读写权限</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 创建存放数据的目录</span>
<span class="token function">mkdir</span> -p /usr/local/mongodb/data/db

<span class="token comment"># 创建存放日志的目录</span>
<span class="token function">mkdir</span> -p /usr/local/mongodb/logs
e
<span class="token comment"># 创建日志记录文件</span>
<span class="token function">touch</span> /usr/local/mongodb/logs/mongodb.log
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 结果</span>
/usr/local/mongodb/
├── data
│   └── db
└── logs
    └── mongodb.log
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>前台启动：</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongod --dbpath /usr/local/mongodb/data/db --logpath /usr/local/mongodb/logs/mongodb.log --logappend --port <span class="token number">27017</span> --bind_ip <span class="token number">0.0</span>.0.0
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>后台启动：</strong></p><p>加<code>--fork</code>参数</p><p><strong>配置文件启动（推荐）：</strong></p><p><strong>结束：</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongodb -f bin/
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="启动" tabindex="-1"><a class="header-anchor" href="#启动" aria-hidden="true">#</a> 启动</h3><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.7d2ff5c0.js" defer></script>
  </body>
</html>
